!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=1)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=e.pos,this.box=e.box,this.game=e.game}var e,n,r;return e=t,(n=[{key:"x",value:function(){return this.pos[0]}},{key:"y",value:function(){return this.pos[1]}},{key:"width",value:function(){return this.box[0]}},{key:"height",value:function(){return this.box[1]}},{key:"isCollidedWith",value:function(t){return this.x()<t.x()+t.width()&&this.x()+this.width()>=t.x()&&this.y()<t.y()+t.height()&&this.y()+this.height()>t.y()}}])&&i(e.prototype,n),r&&i(e,r),t}();function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=[9,41,73,105],p=[3,34,67,98],y=[9,41,73,105],d=[4,36,68,100],w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(o,t);var e,n,i,r=u(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).foxSprite=new Image,e.foxSprite.src="./assets/sprites/cutefox.png",e.pos=[400,300],e.box=[15,24],e.frameIndex=0,e.walkDir="down",e.scale=2,e.tickCount=0,e.ticksPerFrame=5,e.frameLen=4,e.life=100,e.attacking=!1,e.draw=e.draw.bind(c(e)),e.move=e.move.bind(c(e)),e.parseKeyDown=e.parseKeyDown.bind(c(e)),e.parseKeyUp=e.parseKeyUp.bind(c(e)),e.update=e.update.bind(c(e)),e}return e=o,(n=[{key:"parseKeyUp",value:function(t){16===t.keyCode&&(this.stelth=!1),87!==t.keyCode&&38!==t.keyCode||(this.up=!1),65!==t.keyCode&&37!==t.keyCode||(this.left=!1),83!==t.keyCode&&40!==t.keyCode||(this.down=!1),68!==t.keyCode&&39!==t.keyCode||(this.right=!1)}},{key:"parseKeyDown",value:function(t){16===t.keyCode&&(this.stelth=!0),87!==t.keyCode&&38!==t.keyCode||(this.up=!0),65!==t.keyCode&&37!==t.keyCode||(this.left=!0),83!==t.keyCode&&40!==t.keyCode||(this.down=!0),68!==t.keyCode&&39!==t.keyCode||(this.right=!0)}},{key:"move",value:function(t){var e,n=0,i=0;this.up&&this.pos[1]>10&&(i+=-1),this.left&&this.pos[0]>10&&(n+=-1),this.down&&this.pos[1]<442&&(i+=1),this.right&&this.pos[0]<740&&(n+=1);var r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),o=[n/r||0,i/r||0];0===(e=[5*o[0],5*o[1]])[0]&&0===e[1]?this.walking=!1:(this.walking||(this.frameIndex=0),this.walking=!0);var s=t/b,a=e[0]*s,u=e[1]*s,h=[this.pos[0]+a,this.pos[1]+u];this.pos=h}},{key:"setWalkDir",value:function(){!this.down||this.left||this.right||this.left?this.down||!this.left||this.right||this.up?this.down||this.left||!this.right||this.up?this.down||this.left||this.right||!this.up||("up"!==this.walkDir&&(this.frameIndex=0),this.walkDir="up"):("right"!==this.walkDir&&(this.frameIndex=0),this.walkDir="right"):("left"!==this.walkDir&&(this.frameIndex=0),this.walkDir="left"):("down"!==this.walkDir&&(this.frameIndex=0),this.walkDir="down")}},{key:"attack",value:function(){this.attacking||(this.attacking=!0,this.frameIndex=0,this.ticksPerFrame=2,"down"===this.walkDir?this.createHurtBox({pos:[this.x()-10,this.y()+25],box:[70,40]}):"up"===this.walkDir?this.createHurtBox({pos:[this.x()-25,this.y()-25],box:[70,45]}):"left"===this.walkDir?this.createHurtBox({pos:[this.x()-30,this.y()],box:[40,60]}):"right"===this.walkDir&&this.createHurtBox({pos:[this.x()+25,this.y()],box:[40,60]}))}},{key:"draw",value:function(t){this.attacking?this.drawAttack(t):(this.setWalkDir(),this.walking?this.drawFoxWalking(t):this.drawFoxStanding(t)),this.update()}},{key:"drawFoxWalking",value:function(t){"down"===this.walkDir?(this.frameLen=l.length,t.drawImage(this.foxSprite,l[this.frameIndex],8,15,24,this.pos[0],this.pos[1],30,48)):"up"===this.walkDir?(this.frameLen=y.length,t.drawImage(this.foxSprite,y[this.frameIndex],70,15,26,this.pos[0],this.pos[1],30,52)):"right"===this.walkDir?(this.frameLen=p.length,t.drawImage(this.foxSprite,p[this.frameIndex],42,25,22,this.pos[0],this.pos[1],50,44)):"left"===this.walkDir&&(this.frameLen=d.length,t.drawImage(this.foxSprite,d[this.frameIndex],106,25,22,this.pos[0],this.pos[1],50,44))}},{key:"drawFoxStanding",value:function(t){"down"===this.walkDir?t.drawImage(this.foxSprite,9,8,15,24,this.pos[0],this.pos[1],30,48):"up"===this.walkDir?t.drawImage(this.foxSprite,9,70,15,26,this.pos[0],this.pos[1],30,52):"right"===this.walkDir?t.drawImage(this.foxSprite,3,42,25,22,this.pos[0],this.pos[1],50,44):"left"===this.walkDir&&t.drawImage(this.foxSprite,4,106,25,22,this.pos[0],this.pos[1],50,44)}},{key:"update",value:function(){this.tickCount+=1,this.tickCount>this.ticksPerFrame&&(this.tickCount=0,this.frameIndex<this.frameLen-1?this.frameIndex+=1:this.frameIndex=0)}}])&&s(e.prototype,n),i&&s(e,i),o}(r),b=1e3/60,m=w;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=C(t);if(e){var r=C(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?S(t):e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(o,t);var e,n,i,r=x(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).chickenSprite=new Image,e.chickenSprite.src="./assets/sprites/chickens.png",e.box=[12,12],e.draw=e.draw.bind(S(e)),e}return e=o,(n=[{key:"draw",value:function(t){t.drawImage(this.chickenSprite,33,17,48,48,this.pos[0],this.pos[1],30,30),this.update()}},{key:"update",value:function(){this.tickCount+=1,this.tickCount>this.ticksPerFrame&&(this.tickCount=0)}}])&&k(e.prototype,n),i&&k(e,i),o}(r);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return R(this,n)}}function R(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?T(t):e}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(o,t);var e,n,i,r=D(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).grasspatch=new Image,e.box=[100,100],e.draw=e.draw.bind(T(e)),console.log(e.grasspatch),e}return e=o,(n=[{key:"draw",value:function(t){t.beginPath(),t.moveTo(this.pos[0],this.pos[1]),t.lineTo(this.pos[0]+this.box[0],this.pos[1]),t.lineTo(this.pos[0]+this.box[0],this.pos[1]+this.box[1]),t.lineTo(this.pos[0],this.pos[1]+this.box[1]),t.lineTo(this.pos[0],this.pos[1]),t.fillStyle="blue",t.fill()}}])&&_(e.prototype,n),i&&_(e,i),o}(r);function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var F=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e.height,this.gameWidth=e.width,this.topWall=10,this.bottomWall=e.height-10,this.leftWall=10,this.rightWall=e.width-10,this.background=new Image,this.background.src="./assets/backgrounds/field.png",this.fox=new m({game:this}),this.chickens=[new j({pos:[600,400],game:this})],this.grasspatch=new W({pos:[100,100],game:this})}var e,n,i;return e=t,(n=[{key:"addChicken",value:function(t){this.chickens.push(new j({pos:t,game:this}))}},{key:"step",value:function(t){this.fox.move(t)}},{key:"draw",value:function(t){t.clearRect(0,0,this.gameWidth,this.gameHeight),t.drawImage(this.background,0,0,this.gameWidth,this.gameHeight),this.grasspatch.draw(t),this.chickens.forEach((function(e){return e.draw(t)})),this.fox.draw(t)}}])&&B(e.prototype,n),i&&B(e,i),t}();e.default=F},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=n(0),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=n,this.game=e,this.animate=this.animate.bind(this),this.fox=this.game.fox,this.width=e.width,this.height=e.height}var e,n,o;return e=t,(n=[{key:"bindKeyHandlers",value:function(){document.addEventListener("keydown",this.fox.parseKeyDown),document.addEventListener("keyup",this.fox.parseKeyUp)}},{key:"start",value:function(){this.bindKeyHandlers(),this.lastTime=0,requestAnimationFrame(this.animate)}},{key:"animate",value:function(t){var e=t-this.lastTime;this.game.step(e),this.game.draw(this.ctx),this.lastTime=t,requestAnimationFrame(this.animate)}},{key:"newGame",value:function(){this.game=new r,this.fox=this.game.fox,this.start()}}])&&i(e.prototype,n),o&&i(e,o),t}(),s=n(0);document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("game-canvas"),e=t.getContext("2d");t.width=800,t.height=500;var n=new s.default({width:t.width,height:t.height});new o(n,e).start()}))}]);
//# sourceMappingURL=main.js.map